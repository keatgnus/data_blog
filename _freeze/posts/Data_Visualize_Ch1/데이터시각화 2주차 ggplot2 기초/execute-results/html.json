{
  "hash": "8a6a7627fe38568c90828063925eb8a7",
  "result": {
    "markdown": "---\ntitle: \"Data_Visualize CH1\"\nauthor: \"Seongtaek\"\ndate: \"2023-03-29\"\ncategories: [code, data_visualize, rstudio]\nimage: \"ggplot.jpg\"\n---\n\n\n<table align=\"bottom\">\n  <td>\n    <a target=\"_blank\" href=\"데이터시각화-ggplot2기초.html\"><img\n    src = r_logo.png />HTML파일로 보기</a>\n  </td>\n</table>\n\nggplot2 Basic\n\n\n\n\n\n# 그래프 패키지(Packages)\n##### [ggplot2] package : R에서 사용할 수 있는 대표적인 그래픽 도구\n- 그래프 결과를 그림 파일로 출력(정적)\n- Top 50 ggplot2 Visualizations\n  - 참고 http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html\n \n##### [plotly] package - 대화형 그래프 라이브러리로 Python, R, JavaScript 라이브러리를 제공\n- 그래프 결과를 HTML 파일로 출력(동적) \n  - 값 확인, 확대/축소, 이동, 필터 등의 기능을 제공하여 자료 탐색 가능\n- Plotly R Open Source Graphing Library\n  - 참고 https://plotly.com/r/ - Plotly 패키지에 ggplot2 패키지가 포함되어 있음\n  \n# [ggplot2] package\n##### 기본 3요소\n- data: 시각화 자료 - 데이터프레임\n- geom: 시각화 종류\n  - 점: geom_point()\n  - 선: geom_line()\n  - 막대: eom_bar()\n  \n- aesthetics: 시각화 특성 aes()\n  - 위치: x, y\n  - 크기: size\n  - 색상: col, fill\n  - 농도: alpha\n  \n##### 레이어 추가\n- ‘+’ 연산자를 사용하여 레이어를 추가하는 형식으로 그래프를 추가하거나 수정함\n\n##### ggplot() 함수\n- 그래프를 그리는 기본 함수로 다양한 함수를 추가(+)하여 정교한 그래프를 생성\n\n##### 제목과 축의 이름 설정\n- ggtitle(), xlab(), ylab() 함수\n- labs() 함수\n\n##### qplot() 함수\n- Quick plot: 기본 plot() 함수에 익숙한 사용자를 위한 빠른 그래프 생성\n\n# ggplot2 실습\n\n\n::: {.cell}\n\n```{.r .cell-code}\n### 패키지 설치, 라이브러리 실행\n\n#install.packages(\"ggplot2\")\n#install.packages(\"dplyr\")\nlibrary(ggplot2)\nlibrary(dplyr)\n#> \n#> Attaching package: 'dplyr'\n#> The following objects are masked from 'package:stats':\n#> \n#>     filter, lag\n#> The following objects are masked from 'package:base':\n#> \n#>     intersect, setdiff, setequal, union\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### [mpg]데이터셋 불러오기, 파악\n\ndata_raw <- read.csv(\"https://vincentarelbundock.github.io/Rdatasets/csv/ggplot2/mpg.csv\")\n\n# 데이터 차원 파악\ndata_raw %>% dim()\n#> [1] 234  12\n# 데이터 앞부분 출력\ndata_raw %>% head()\n#>   X manufacturer model displ year cyl      trans drv cty hwy fl   class\n#> 1 1         audi    a4   1.8 1999   4   auto(l5)   f  18  29  p compact\n#> 2 2         audi    a4   1.8 1999   4 manual(m5)   f  21  29  p compact\n#> 3 3         audi    a4   2.0 2008   4 manual(m6)   f  20  31  p compact\n#> 4 4         audi    a4   2.0 2008   4   auto(av)   f  21  30  p compact\n#> 5 5         audi    a4   2.8 1999   6   auto(l5)   f  16  26  p compact\n#> 6 6         audi    a4   2.8 1999   6 manual(m5)   f  18  26  p compact\n# 데이터 요약 정보\ndata_raw %>% summary()\n#>        X          manufacturer          model               displ      \n#>  Min.   :  1.00   Length:234         Length:234         Min.   :1.600  \n#>  1st Qu.: 59.25   Class :character   Class :character   1st Qu.:2.400  \n#>  Median :117.50   Mode  :character   Mode  :character   Median :3.300  \n#>  Mean   :117.50                                         Mean   :3.472  \n#>  3rd Qu.:175.75                                         3rd Qu.:4.600  \n#>  Max.   :234.00                                         Max.   :7.000  \n#>       year           cyl           trans               drv           \n#>  Min.   :1999   Min.   :4.000   Length:234         Length:234        \n#>  1st Qu.:1999   1st Qu.:4.000   Class :character   Class :character  \n#>  Median :2004   Median :6.000   Mode  :character   Mode  :character  \n#>  Mean   :2004   Mean   :5.889                                        \n#>  3rd Qu.:2008   3rd Qu.:8.000                                        \n#>  Max.   :2008   Max.   :8.000                                        \n#>       cty             hwy             fl               class          \n#>  Min.   : 9.00   Min.   :12.00   Length:234         Length:234        \n#>  1st Qu.:14.00   1st Qu.:18.00   Class :character   Class :character  \n#>  Median :17.00   Median :24.00   Mode  :character   Mode  :character  \n#>  Mean   :16.86   Mean   :23.44                                        \n#>  3rd Qu.:19.00   3rd Qu.:27.00                                        \n#>  Max.   :35.00   Max.   :44.00\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### 첫 번째 컬럼 제거 (X 컬럼 제거)\n\ndata_use <- data_raw %>% select(-1)\ndata_use %>% head()\n#>   manufacturer model displ year cyl      trans drv cty hwy fl   class\n#> 1         audi    a4   1.8 1999   4   auto(l5)   f  18  29  p compact\n#> 2         audi    a4   1.8 1999   4 manual(m5)   f  21  29  p compact\n#> 3         audi    a4   2.0 2008   4 manual(m6)   f  20  31  p compact\n#> 4         audi    a4   2.0 2008   4   auto(av)   f  21  30  p compact\n#> 5         audi    a4   2.8 1999   6   auto(l5)   f  16  26  p compact\n#> 6         audi    a4   2.8 1999   6 manual(m5)   f  18  26  p compact\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### ggplot() : 시각화 자료 + 시각화 특성\n\n# x축, y축 지정\nggplot(data_use, aes(x=displ, y=hwy))\n```\n\n::: {.cell-output-display}\n![](데이터시각화-2주차-ggplot2-기초_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### ggplot: 시각화 자료 + 시각화 특성 + 시각화 종류\n\n# x=displ, y=hwy 값을 point로 그리기\n# 첫 번째 방법\nggplot(data_use, aes(x=displ, y=hwy)) + geom_point()\n```\n\n::: {.cell-output-display}\n![](데이터시각화-2주차-ggplot2-기초_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# 두 번째 방법\nggplot(data_use) + geom_point(aes(x=displ, y=hwy))\n```\n\n::: {.cell-output-display}\n![](데이터시각화-2주차-ggplot2-기초_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# 세 번째 방법\nggplot() + geom_point(aes(x=displ, y=hwy), data=data_use)\n```\n\n::: {.cell-output-display}\n![](데이터시각화-2주차-ggplot2-기초_files/figure-html/unnamed-chunk-5-3.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### Smooth line & SE\n\n# 스무스한 선으로 그리기\nggplot(data_use, aes(x=displ, y=hwy)) + geom_smooth()\n#> `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n::: {.cell-output-display}\n![](데이터시각화-2주차-ggplot2-기초_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# point 추가\nggplot(data_use, aes(x=displ,y=hwy)) + geom_smooth() + geom_point()\n#> `geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n```\n\n::: {.cell-output-display}\n![](데이터시각화-2주차-ggplot2-기초_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n",
    "supporting": [
      "데이터시각화-2주차-ggplot2-기초_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}